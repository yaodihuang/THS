# 金融研究智能体项目说明

## 项目简介
本项目旨在构建一个面向金融、产业、政策分析的智能体（Agent）系统，具备自主信息获取、深度分析、严格验证能力，输出专业级研究报告。系统支持从模糊指令到终稿报告的全流程自动化，覆盖需求拆解、多轮检索、阅读理解、多视角分析、风险评估与投资结论。

## 主要功能模块

### 1. 数据构建
- 支持正向与逆向认知轨迹生成，自动构建从用户问题到报告的研究过程。
- 原子信息单元（AIU）抽取，自动识别报告中的事实与结论。
- 多跳检索与困难负样本生成，提升模型对真实金融数据噪声的鲁棒性。
- 过程质量过滤，自动筛选高质量研究轨迹。
- 支持标准JSONL格式数据导出，便于模型训练与评估。

### 2. Agent架构
- 多智能体协作，包括规划、研究、写作、审阅、仲裁、记忆等角色。
- 分层递归记忆网络（HRMN），支持工作记忆、情景记忆、长期记忆的动态管理与压缩。
- 信息饱和度判定，采用KL散度驱动的停止策略，避免冗余检索。
- 冲突消解与真值发现，自动加权仲裁多源冲突数据。
- 支持树状摘要检索，分层聚类文档，兼顾全局与细节信息。

### 3. 奖励与评估
- 多维度奖励函数，覆盖事实一致性、相关性、信息密度、结构与逻辑等。
- 支持过程级奖励，鼓励高质量推理与工具调用。
- 可扩展至强化学习（RL）与在线反馈闭环。

## 代码结构说明
```
requirements.txt
src/
  financial_research_agent/
    config.py           # 配置文件
    llm_client.py       # 大模型接口与路由
    main.py             # 主入口
    models.py           # 主要数据结构定义
    agent/              # 各类智能体模块
    data_pipeline/      # 数据构建与处理流程
    evaluation/         # 奖励与评估模块
```

## 快速开始
1. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
2. 运行主程序：
   ```bash
   python src/financial_research_agent/main.py
   ```
3. 训练/评估数据可通过 `trajectory_generator.py` 导出为JSONL格式。

## 适用场景
- 金融行业研究
- 产业链分析
- 政策影响评估
- 自动化报告生成与辅助决策

## 未来方向
- 支持在线学习与用户反馈闭环
- 行业特化子模型扩展
- 工作流与真实投研流程集成
- 增量轨迹合成与持续学习
